---
outline: [2, 3]
description: 学习如何更新、暂停或移除你的应用。
---
# 管理应用生命周期

本文介绍应用发布后的管理操作，包括更新应用、暂停分发或从 Olares 应用市场移除应用。

所有操作均通过提交指向 `beclab/apps:main` 的拉取请求（Pull Request，PR）完成。GitBot 支持三种管理操作：`UPDATE`、`SUSPEND` 和。`REMOVE`。

:::tip 降低冲突风险
在创建 PR 前，建议先同步你的 Fork，并将分支 rebase 到最新的 `main`，以减少潜在冲突。
:::

## 控制文件

控制文件是 OAC 根目录下的特殊空文件，用于管理应用在 Olares 应用市场中的分发状态。

| 文件名 | 用途 | 版本规则 | 内容 |
|--|--|--|--|
| `.suspend` | 暂停分发 | 升级（>） | 空文件 |
| `.remove` | 移除应用 | 相同（=） | 空文件 |

`UPDATE` 类型的 PR 不能包含这些文件。它们仅用于 `SUSPEND` 与 `REMOVE`。

## 更新应用（UPDATE）

要更新已发布应用（例如发布新版本、修改配置、更新所有者）时，请提交类型为 `UPDATE` 的 PR。

PR 必须满足以下要求：

- **版本升级**：新的 Chart 版本必须大于仓库当前版本。对图表的任何修改都必须升级 Chart 版本。
- **清理目录**：OAC 根目录不能包含 `.suspend` 或 `.remove`文件。
- **无冲突**：PR 分支不得与 `beclab/apps:main` 冲突。

:::warning 不支持回滚
Olares 应用市场不支持版本回滚。如出现问题，必须提交更高版本进行修复。
:::

## 暂停应用（SUSPEND）

若要暂时停止应用在应用商店中的展示、下载与安装，请提交类型为 `SUSPEND` 的 PR。

PR 必须满足以下要求：
- **版本升级**：Chart 版本必须大于仓库当前版本。
- **控制文件**：OAC 根目录包含 `.suspend`文件，且不包含 `.remove`文件。
- **无冲突**：PR 分支不得与 `beclab/apps:main` 冲突。

PR 合并后，应用将不再在 Olares 应用市场中展示。已安装该应用的用户仍可继续使用。

## 移除应用（REMOVE）

若要从 Olares 应用市场永久移除应用，请提交类型为 `REMOVE` 的 PR。

要求如下：

- **版本一致**：PR 标题中的 Chart 版本必须与仓库当前版本相同。
- **控制文件**：更改后，OAC 根目录仅包含唯一的空文件 `.remove`。
- **无冲突**：PR 分支不得与 `beclab/apps:main` 冲突。

:::warning 警告
移除操作不可逆。
:::

PR 合并后：

- 应用所有者无法再次使用该 Chart 文件夹名称。
- 已经安装该应用的用户可以继续使用。